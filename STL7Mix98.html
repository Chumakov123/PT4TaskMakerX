<!-- Programming Taskbook 4.24 | Copyright (c) M. Abramyan, 1998-2024 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>PT4Tasks</title>
<style type="text/css">
H1{font-family:"Arial";font-size:20pt;text-indent:0px;margin-top:10px; margin-right:10px; margin-bottom:0px; margin-left:10px;}
H2{font-family:"Arial";font-size:16pt;text-indent:0px;margin-top:5px; margin-right:10px; margin-bottom:0px; margin-left:10px;}
P{font-family:"Times New Roman";text-align:left;font-size:12pt;text-indent:0px;margin-top:0px; margin-right:10px; margin-bottom:0px; margin-left:10px;}
TD{font-family:"Times New Roman";font-size:12pt;}
LI{font-family:"Times New Roman";font-size:12pt;}
UL{font-family:"Times New Roman";font-size:12pt;}
SUB{font-family:"Times New Roman";font-size:8pt;}
SUP{font-family:"Times New Roman";font-size:8pt;}
TABLE{margin-top:0px; margin-bottom:0px;}
P.ptAuthor{text-align:right;font-size:10pt;font-style:italic;}
P.ptTask{text-align:justify;text-indent:-50px;margin-top:5px; margin-left:60px;}
P.ptTaskQuote{text-align:left;margin-left:120px;margin-top:5px;margin-bottom:0px;}
P.ptTaskCenter{text-align:center;margin-left:60px;margin-top:5px;margin-bottom:0px;}
P.ptTaskContinue{text-align:justify;margin-left:60px;margin-top:5px; }
P.ptComment{text-align:justify;text-indent:50px;margin-top:5px;}
P.ptCommentCenter{text-align:center;margin-top:0px;}
P.ptCommentQuote{text-align:left;margin-left:120px;margin-top:0px;margin-bottom:0px;}
P.ptCommentContinue{text-align:justify;margin-top:0px;}
P.ptFooter{text-align:right;font-size:10pt;font-style:italic;margin-right:0px;}
SPAN.ptSpecial{font-family:"Arial";}
PRE{text-align:left;font-size:10pt;text-indent:0px;margin-top:5px; margin-right:10px; margin-bottom:0px; margin-left:60px;}
CODE{font-size:10pt;}
TT{font-size:10pt;}
P.ptPicture{font-family:Arial, sans-serif;margin-top: 5px;margin-bottom: 5px;margin-left: 60px;font-size: small;color: #000080;text-indent: 0pt;text-align: justify}
</style>
</head><body>
<h1>Применение различных средств стандартной библиотеки C++</h1>
<p class="ptAuthor">М.&nbsp;Э.&nbsp;Абрамян, 2016, 2022</p>
<p class="ptComment"> </p><p class="ptComment">В каждом задании даются имена одного или нескольких текстовых файлов, содержащих исходные последовательности, а также имя текстового файла, в который требуется записать результаты обработки исходных последовательностей (имя результирующего файла указывается последним). Каждая исходная последовательность содержится в отдельном файле. Все исходные файлы содержат текст в однобайтной кодировке ASCII; эта же кодировка должна использоваться при записи полученных данных в результирующий файл. </p><p class="ptComment">Каждый элемент последовательности размещается в отдельной строке файла, в начале и конце строки пробелы отсутствуют, поля элемента не содержат пробелов и разделяются ровно одним пробелом. Все исходные числовые данные являются положительными. В качестве десятичного разделителя используется <i>точка</i>. </p><p class="ptComment">Если в задание входят дополнительные числовые или строковые исходные данные, то они указываются в начале набора исходных данных (перед именами файлов).</p>
<p class="ptComment">Во всех заданиях данной группы заготовки решения уже содержат определения исходных структур данных (в заданиях STL7Mix1&#8211;STL7Mix70 структура имеет имя <code>Data</code>, в заданиях STL7Mix71&#8211;STL7Mix100 имя дополнительно содержит буквенный идентификатор соответствующего набора данных, например, <code>DataA</code> или <code>DataC</code>). Кроме того, заготовки содержат операторы, обеспечивающие чтение данных из исходных файлов в векторы типа <code>vector&lt;Data&gt;</code>, где <code>Data</code> &#8212; ранее определенная структура данных, и операторы, создающие результирующий файл.</p>
<p class="ptComment">Например, заготовка для задания STL7Mix1 включает определение структуры Data с целочисленными полями code, year, month, len, а функция Solve содержит следующие операторы:</p>
<pre class="pt">    string name1, name2;
    pt &gt;&gt; name1 &gt;&gt; name2;
    ifstream f1(name1);
    vector&lt;Data&gt; V((istream_iterator&lt;Data&gt;(f1)), istream_iterator&lt;Data&gt;());
    f1.close();
    ShowLine(V.begin(), V.end(), &quot;V: &quot;);

    ofstream f2(name2);

    f2.close();</pre>
<p class="ptComment">Оператор отладочной печати отображает в разделе отладки все введенные исходные данные. Выводить полученные данные следует в файловый поток f2.</p>
<p class="ptComment">Если компилятор поддерживает стандарт C++11, то для вывода результатов рекомендуется использовать цикл <code>for(auto&amp; e : C)</code>, где <code>C</code> &#8212; контейнер с результирующими данными; в противном случае можно использовать алгоритм for_each для этого контейнера.</p>
<p class="ptComment">При решении большинства задач требуется выполнить <i>группировку</i> исходных данных, используя вспомогательное отображение подходящего типа. В задачах STL7Mix71&#8211;STL7Mix100 может оказаться удобным предварительно выполнить внутреннее или внешнее <i>объединение</i> данных по общему ключу. Группировка и объединение данных с использованием ассоциативных контейнеров рассматриваются в группе заданий STL5Assoc.</p>
<p class="ptComment">Если порядок вывода сгруппированных данных отличается от порядка следования их ключей, то следует скопировать полученные данные в последовательный контейнер (обычно вектор) и выполнить для него требуемую сортировку (используя алгоритмы sort или stable_sort).</p>
<h2>Обработка нескольких взаимосвязанных последовательностей</h2>
<p class="ptComment"> </p><p class="ptComment">В каждом задании данной подгруппы требуется обработать несколько (от двух до четырех) последовательностей из следующего набора: </p><p class="ptCommentQuote"><i>A</i>: &nbsp; &nbsp;сведения о потребителях, содержащие поля &#34;Код потребителя&#34;, &#34;Год рождения&#34;, &#34;Улица проживания&#34;;<br><i>B</i>: &nbsp; &nbsp;сведения о товарах, содержащие поля &#34;Артикул товара&#34;, &#34;Категория&#34;, &#34;Страна-производитель&#34;;<br><i>C</i>: &nbsp; &nbsp;скидки для потребителей в различных магазинах, содержащие поля &#34;Код потребителя&#34;, &#34;Название магазина&#34;, &#34;Скидка (в процентах)&#34;;<br><i>D</i>: &nbsp; &nbsp;цены товаров в различных магазинах, содержащие поля &#34;Артикул товара&#34;, &#34;Название магазина&#34;, &#34;Цена (в рублях)&#34;;<br><i>E</i>: &nbsp; &nbsp;сведения о покупках потребителей в различных магазинах, содержащие поля &#34;Код потребителя&#34;, &#34;Артикул товара&#34;, &#34;Название магазина&#34;.</p><p class="ptCommentContinue"></p><p class="ptComment">Порядок следования полей для элементов каждой последовательности определяется в формулировке задания. </p><p class="ptComment">В последовательности <i>A</i> все элементы имеют различные значения поля &#34;Код потребителя&#34;. В последовательности <i>B</i> все элементы имеют различные значения поля &#34;Артикул товара&#34;. В последовательности <i>C</i> все элементы имеют различные комбинации полей &#34;Код потребителя&#34; и &#34;Название магазина&#34;. В последовательности <i>D</i> все элементы имеют различные комбинации полей &#34;Артикул товара&#34; и &#34;Название магазина&#34;. Последовательность <i>E</i> может содержать одинаковые элементы (это соответствует ситуации, при которой один и тот же потребитель приобрел в одном и том же магазине несколько одинаковых товаров). </p><p class="ptComment">Все значения кодов потребителей и артикулов товаров, присутствующие в последовательностях <i>C</i>, <i>D</i> и <i>E</i>, обязательно содержатся в последовательностях <i>A</i> и <i>B</i>. Некоторые значения кодов потребителей и артикулов товаров, присутствующие в последовательностях <i>A</i> и <i>B</i>, могут отсутствовать в остальных последовательностях. Любая комбинация &#34;магазин&#8211;товар&#34;, присутствующая в последовательности <i>E</i>, обязательно присутствует и в последовательности <i>D</i>. Комбинация &#34;потребитель&#8211;магазин&#34;, присутствующая в последовательности <i>E</i>, может отсутствовать в последовательности <i>C</i>; это означает, что при покупке указанного товара в данном магазине потребитель не имел скидки (т.&nbsp;е. скидка была равна 0). </p><p class="ptComment">Коды потребителей, годы рождения, скидки и цены задаются целыми числами; значения скидок лежат в диапазоне от 5 до 50. Прочие поля являются строковыми и не содержат пробелов. Артикулы товаров имеют формат &#34;AAddd-dddd&#34;, где на позициях, помеченных символом &#34;A&#34;, располагается какая-либо заглавная латинская буква, а на позициях, помеченных символом &#34;d&#34;, &#8212; какая-либо цифра. </p><p class="ptComment">Если потребитель приобрел товар, имеющий цену <i>p</i>, со скидкой <i>d</i> процентов, то размер скидки на данный товар должен вычисляться по формуле <i>p</i>&nbsp;&#183;&nbsp;<i>d</i>&nbsp;/&nbsp;100, где символ &#34;/&#34; обозначает операцию целочисленного деления (иными словами, при вычислении размера скидки копейки отбрасываются).</p>
<p class="ptTask"><span class="ptSpecial">STL7Mix98°</span>. Даны последовательности <i>B</i>, <i>C</i>, <i>D</i> и <i>E</i>, включающие следующие поля: </p><p class="ptTaskQuote"><i>B</i>: &nbsp; &nbsp;<tt>&lt;Страна-производитель&gt; &lt;Артикул товара&gt; &lt;Категория&gt;</tt><br><i>C</i>: &nbsp; &nbsp;<tt>&lt;Скидка (в процентах)&gt; &lt;Код потребителя&gt; &lt;Название магазина&gt;</tt><br><i>D</i>: &nbsp; &nbsp;<tt>&lt;Артикул товара&gt; &lt;Цена (в рублях)&gt; &lt;Название магазина&gt;</tt><br><i>E</i>: &nbsp; &nbsp;<tt>&lt;Код потребителя&gt; &lt;Артикул товара&gt; &lt;Название магазина&gt;</tt></p><p class="ptTaskContinue">Свойства последовательностей описаны в преамбуле к данной подгруппе заданий. Для каждой категории товаров и каждого магазина, указанного в <i>E</i>, определить суммарный размер скидки на все товары данной категории, проданные в данном магазине (вначале выводится название категории, затем название магазина, затем суммарная скидка). При вычислении размера скидки на товар копейки отбрасываются. Если на проданный товар скидка отсутствует, то ее размер полагается равным 0. Если для некоторой категории товаров в каком-либо магазине не было продаж, то суммарная скидка для этой пары &#34;категория&#8211;магазин&#34; полагается равной &#8722;1. Сведения о каждой паре &#34;категория&#8211;магазин&#34; выводить на новой строке и упорядочивать по названиям категорий в алфавитном порядке, а для одинаковых названий категорий &#8212; по названиям магазинов (также в алфавитном порядке). </p>
<hr noshade>
<p class="ptFooter">Page generation date: 28.05.2024.</p>
</body></html>
